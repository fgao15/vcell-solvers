option(UNVERSIONED "Build without svn verison information" OFF)
if (NOT ${UNVERSIONED}) 
	execute_process(COMMAND svnversion
		WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
		RESULT_VARIABLE RCODE 
		OUTPUT_VARIABLE SVERSIONRAW 
		ERROR_VARIABLE VERISON_ERROR )
	if (NOT ${RCODE} EQUAL 0) 
		message("set option UNVERSIONED TO skip version check")
		message(FATAL_ERROR "version not found svnversion returned ${RCODE}, ${VERSION_ERROR}")
	endif( )
	string(STRIP ${SVERSIONRAW} SVERSION)
	unset(SVERSIONRAW)
	if ( NOT ${SVERSION} GREATER 0) 
		message("set option UNVERSIONED TO skip version check")
		message(FATAL_ERROR "version not found svnversion returned ${RCODE}, ${VERSION_ERROR}")
	endif( )
else( )
	set(SVERSION "unversioned build")
endif( )
message("svnversion ${SVERSION}")
add_definitions(-DSVNVERSION=svn${SVERSION})

